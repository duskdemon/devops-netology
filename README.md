#devops-netology
### 11-microservices-04-scaling
# Домашнее задание к занятию "11.04 Микросервисы: масштабирование"

Вы работаете в крупной компанию, которая строит систему на основе микросервисной архитектуры.
Вам как DevOps специалисту необходимо выдвинуть предложение по организации инфраструктуры, для разработки и эксплуатации.

## Задача 1: Кластеризация

Предложите решение для обеспечения развертывания, запуска и управления приложениями.
Решение может состоять из одного или нескольких программных продуктов и должно описывать способы и принципы их взаимодействия.

Решение должно соответствовать следующим требованиям:
- Поддержка контейнеров;
- Обеспечивать обнаружение сервисов и маршрутизацию запросов;
- Обеспечивать возможность горизонтального масштабирования;
- Обеспечивать возможность автоматического масштабирования;
- Обеспечивать явное разделение ресурсов доступных извне и внутри системы;
- Обеспечивать возможность конфигурировать приложения с помощью переменных среды, в том числе с возможностью безопасного хранения чувствительных данных таких как пароли, ключи доступа, ключи шифрования и т.п.

Обоснуйте свой выбор.

**Ответ:**

Сравнил несколько систем для управления микросервисами с подходом оркестрации:
* __Apache Mesos__ - менеджер кластера, состоящий из мастера, агентов и фреймворков, решение от Apache;  
* __Docker Swarm__ - решение встроенное в сам докер. Он работает поверх самого докера и использует его интерфейс командной строки;  
* __fleet__ - оркестратор в составе системы CoreOS, с 2018 года разработка прекращена, не поддерживается;  
* __Kubernetes__ -  открытое программное обеспечение для оркестровки контейнеризированных приложений от google;  
* __Nomad__ - это оркестратор от компании HashiCorp для управления контейнерами и неконтейнерными приложениями;  
fleet - сразу не подходит, т.к. поддержки нет, и в долгосрочной перспективе возможны отказы системы.  

Теперь по требованиям:  
* Поддержка контейнеров;
Все перечисленные решения поддерживают контейнеризацию, здесь паритет;
* Обеспечивать обнаружение сервисов и маршрутизацию запросов;
в Nomad нет Autodiscovery на основе DNS, в остальных системах с этим ситуация лучше;
* Обеспечивать возможность горизонтального масштабирования;
Все перечисленные решения поддерживают гороизонтальное масштабирование;
* Обеспечивать возможность автоматического масштабирования;
docker swarm масштабируется только вручную; kubernetes, nomad и mesos поддерживает автоматическое масштабирование;
* Обеспечивать явное разделение ресурсов доступных извне и внутри системы;
В Kubernetes есть концепция ExternalName, используемая с Namespaces;
* Обеспечивать возможность конфигурировать приложения с помощью переменных среды, в том числе с возможностью безопасного хранения чувствительных данных таких как пароли, ключи доступа, ключи шифрования и т.п.;
переменные среды поддерживают все системы, но в kubernetes больше возможностей в плане настройки безопасности, в частности,
такие возможности, как Network Policies и Namespaces.  
  
__Итого:__ Суммируя по всем пунктам, выбор будет за __Kubernetes__, как наиболее продвинутым и гибким решением, находящимся в фазе активной
разработки и поддержки, к тому же, широко распространенным.
