#devops-netology
### 10-monitoring-01-base
# Домашнее задание к занятию "10.01. Зачем и что нужно мониторить"

## Обязательные задания

1. Вас пригласили настроить мониторинг на проект. На онбординге вам рассказали, что проект представляет из себя 
платформу для вычислений с выдачей текстовых отчетов, которые сохраняются на диск. Взаимодействие с платформой 
осуществляется по протоколу http. Также вам отметили, что вычисления загружают ЦПУ. Какой минимальный набор метрик вы
выведите в мониторинг и почему?  
**Ответ:**  
Самые Необходимые метрики - загрузка ЦПУ, ОЗУ, загрузка диска(очередь на запись), свободное дисковое пространство,
загрузка сетевого интерфейса, количество запросов по http, успешные (200) и неуспешные ответы (400,500) веб-сервера. 

2. Менеджер продукта посмотрев на ваши метрики сказал, что ему непонятно что такое RAM/inodes/CPUla. Также он сказал, 
что хочет понимать, насколько мы выполняем свои обязанности перед клиентами и какое качество обслуживания. Что вы 
можете ему предложить?  
**Ответ:**  
Можно ввести некую эталонную величину времени выдачи ответа на запрос (время от получения запроса до записи файла на диск)
 и подсчитать насколько близки к ней значения, полученные при работе системы. Чем ближе реальные значения к эталонному,
 тем выше качество обслуживания. Также, можно собирать количество неуспешных запросов (отчет не сформировался). Можно
 ввести пороговое значение, которое считается неприемлемым и подсчитать количество таких значений за день/неделю
 или в процентах от общего числа обработанных системой запросов. Например, задать SLA, что 95% запросов обрабатываются
 не более, чем за 300 секунд.  
 
3. Вашей DevOps команде в этом году не выделили финансирование на построение системы сбора логов. Разработчики в свою 
очередь хотят видеть все ошибки, которые выдают их приложения. Какое решение вы можете предпринять в этой ситуации, 
чтобы разработчики получали ошибки приложения?  
**Ответ:**  
Можно настроить запись логов приложениями на серверах и сбор их на каком-то централизованном ресурсе, к которому предоставить
 им доступ (например, простой веб-сервер) и не забыть настроить ротацию логов. Если есть необходимость сбора критичных событий,
 можно настроить, например, почтовую рассылку критичных ошибок разработчикам.  

3. Вы, как опытный SRE, сделали мониторинг, куда вывели отображения выполнения SLA=99% по http кодам ответов. 
Вычисляете этот параметр по следующей формуле: summ_2xx_requests/summ_all_requests. Данный параметр не поднимается выше 
70%, но при этом в вашей системе нет кодов ответа 5xx и 4xx. Где у вас ошибка?  
**Ответ:**  
Можно предположить, что ошибка в учете только 200-х кодов, информационные (100-е), и редиректы (300-е) также нужно учитывать,
 как успешные. 200-е можно использовать как мониторинг доступности сервиса - пользователь получил полезную информацию.

